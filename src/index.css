@import "tailwindcss";
@import "mana-font/css/mana.min.css";

body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

@layer utilities {
    .perspective-1000 {
        perspective: 1000px;
    }

    .transform-style-3d {
        transform-style: preserve-3d;
    }

    .backface-hidden {
        backface-visibility: hidden;
    }

    .rotate-y-180 {
        transform: rotateY(180deg);
    }

    .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* THEME VARIABLES */
    :root {
        /* Default / Multiversal Theme (Indigo/Void) */
        --color-primary-50: #eef2ff;
        --color-primary-100: #e0e7ff;
        --color-primary-200: #c7d2fe;
        --color-primary-300: #a5b4fc;
        --color-primary-400: #818cf8;
        --color-primary-500: #6366f1;
        /* Main Brand */
        --color-primary-600: #4f46e5;
        --color-primary-700: #4338ca;
        --color-primary-800: #3730a3;
        --color-primary-900: #312e81;
        --color-primary-950: #1e1b4b;
    }

    /* Multiversal (Explicit Class - same as root) */
    .theme-multiversal {
        --color-primary-50: #eef2ff;
        --color-primary-100: #e0e7ff;
        --color-primary-200: #c7d2fe;
        --color-primary-300: #a5b4fc;
        --color-primary-400: #818cf8;
        --color-primary-500: #6366f1;
        --color-primary-600: #4f46e5;
        --color-primary-700: #4338ca;
        --color-primary-800: #3730a3;
        --color-primary-900: #312e81;
        --color-primary-950: #1e1b4b;
    }

    /* White Theme (Gold/Light/Order) */
    .theme-white {
        --color-primary-50: #fffbeb;
        --color-primary-100: #fef3c7;
        --color-primary-200: #fde68a;
        --color-primary-300: #fcd34d;
        --color-primary-400: #fbbf24;
        --color-primary-500: #f59e0b;
        --color-primary-600: #d97706;
        --color-primary-700: #b45309;
        --color-primary-800: #92400e;
        --color-primary-900: #78350f;
        --color-primary-950: #451a03;
    }

    /* Blue Theme (Cyan/Mind/Knowledge) */
    .theme-blue {
        --color-primary-50: #ecfeff;
        --color-primary-100: #cffafe;
        --color-primary-200: #a5f3fc;
        --color-primary-300: #67e8f9;
        --color-primary-400: #22d3ee;
        --color-primary-500: #06b6d4;
        --color-primary-600: #0891b2;
        --color-primary-700: #0e7490;
        --color-primary-800: #155e75;
        --color-primary-900: #164e63;
        --color-primary-950: #083344;
    }

    /* Black Theme (Purple/Necromancy/Death) */
    /* Using a more "Necrotic" Purple/Gray than the default Indigo */
    .theme-black {
        --color-primary-50: #fdf4ff;
        --color-primary-100: #fae8ff;
        --color-primary-200: #f5d0fe;
        --color-primary-300: #f0abfc;
        --color-primary-400: #e879f9;
        --color-primary-500: #d946ef;
        --color-primary-600: #c026d3;
        --color-primary-700: #a21caf;
        --color-primary-800: #86198f;
        --color-primary-900: #701a75;
        --color-primary-950: #4a044e;
    }

    /* Red Theme (Orange/Red/Fury) */
    .theme-red {
        --color-primary-50: #fff1f2;
        --color-primary-100: #ffe4e6;
        --color-primary-200: #fecdd3;
        --color-primary-300: #fda4af;
        --color-primary-400: #fb7185;
        --color-primary-500: #f43f5e;
        --color-primary-600: #e11d48;
        --color-primary-700: #be123c;
        --color-primary-800: #9f1239;
        --color-primary-900: #881337;
        --color-primary-950: #4c0519;
    }

    /* Green Theme (Emerald/Nature/Life) */
    .theme-green {
        --color-primary-50: #f0fdf4;
        --color-primary-100: #dcfce7;
        --color-primary-200: #bbf7d0;
        --color-primary-300: #86efac;
        --color-primary-400: #4ade80;
        --color-primary-500: #22c55e;
        --color-primary-600: #16a34a;
        --color-primary-700: #15803d;
        --color-primary-800: #166534;
        --color-primary-900: #14532d;
        --color-primary-950: #052e16;
    }

    /* Bump up third-party chat widgets/bubbles to avoid pagination footer */
    /* This targets common chat widget selectors - adjust if your specific chat widget uses different classes/ids */
    #hubspot-messages-iframe-container,
    .intercom-launcher-frame,
    .drift-frame-controller,
    #launcher,
    [class*="chat-bubble"],
    [class*="chat-widget"],
    [id*="chat-widget"] {
        bottom: 80px !important;
        /* Desktop: bump up above pagination footer */
    }

    @media (max-width: 768px) {

        #hubspot-messages-iframe-container,
        .intercom-launcher-frame,
        .drift-frame-controller,
        #launcher,
        [class*="chat-bubble"],
        [class*="chat-widget"],
        [id*="chat-widget"] {
            bottom: 280px !important;
            /* Mobile: bump up above FAB + pagination + nav */
        }
    }

    .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.1);
    }

    /* Production-Safe Chat Typography Overrides */
    .prose-chat p {
        margin-bottom: 0.375rem !important;
        /* mb-1.5 */
    }

    .prose-chat p:last-child {
        margin-bottom: 0 !important;
    }

    .prose-chat h1 {
        font-size: 1.125rem !important;
        /* text-lg */
        font-weight: 700 !important;
        margin-bottom: 0.5rem !important;
        /* mb-2 */
    }

    .prose-chat h2 {
        font-size: 1rem !important;
        /* text-base */
        font-weight: 700 !important;
        margin-bottom: 0.375rem !important;
        /* mb-1.5 */
    }

    .prose-chat ul {
        margin-top: 0.375rem !important;
        /* my-1.5 */
        margin-bottom: 0.375rem !important;
    }

    .prose-chat li {
        margin-bottom: 0.125rem !important;
        /* mb-0.5 */
    }
}